[{"created":"2025-01-01T00:00:00.000Z","text":"This [[Caddy Project]] was created to enable the use of Caddy as a reverse proxy running on a personal computer to run a  federated [[Wiki Farm]]. The project is used daily on my laptop to serve a [[Local Wiki Farm]]. We require Caddy as a [[Reverse Proxy]] in order to more reliably serve domains on port 80 as if they were hosted online.\n\n* [[Caddy Install]]","title":"About","modified":"2025-01-26T22:19:50.315Z","type":"text/vnd.tiddlywiki"},{"created":"2025-01-26T22:20:49.172Z","text":"This is the function we use for the [[Caddyfile]].\n\n```\nfunction caddyFile_Construct pWhich\n   switch pWhich\n      case \"brew\"\n         put caddyFile_BrewDefault() into caddyFile\n         break\n      default\n         put caddyFile_ProjectDefault() into caddyFile\n   end switch\n   return caddyFile\nend caddyFile_Construct\n```\n\nIt is part of the [[lib_Caddy]] Livecode library.\n\n","modified":"2025-01-26T22:21:57.557Z","title":"Author Caddyfile and control which file we use","tags":["Caddy Install","todo"],"due":"","priority":""},{"created":"2025-01-26T20:35:13.178Z","tags":["Caddy Install","todo"],"modified":"2025-01-26T20:38:56.413Z","title":"Brew Caddy Install"},{"created":"2025-01-01T00:00:00.000Z","text":"We standardise on using [[brew]] on macOS for managing [[Command-line]] utilities.","title":"Brew Install","modified":"2025-01-01T00:00:00.000Z","type":"text/vnd.tiddlywiki"},{"created":"2025-01-26T20:41:36.893Z","text":"It is important that Caddy accepts connections on port 80 and proxies them to a number of local servers - for instance a standard federated wiki host running on port 3000 and a Livecode server running on port 9090. There may be other services.","title":"Caddy","modified":"2025-01-26T20:41:43.016Z"},{"created":"2025-01-26T20:38:18.246Z","text":"","description":"A project to help setup and install [[Caddy]]. We start with the [[lcw_Caddy]] project, and [[Caddy Library]], but then also [[Brew Caddy Install]]. We do both.","category":"Livecode","tags":["Project"],"modified":"2025-01-26T20:44:15.906Z","title":"Caddy Install"},{"created":"2025-01-26T20:46:03.882Z","text":"{{$:/plugins/nico/projectify/ui/dashboard/Dashboard}}","title":"Caddy Project","modified":"2025-01-26T20:46:05.720Z"},{"created":"2025-01-26T22:22:19.715Z","text":"For now we try to use the [[Caddy Project]]'s asset folder for both a copy of the local go binary for running caddy, as well as the `Caddyfile` that we author with Livecode using the [[function caddyFile_ConstructText]] handler.\n\n<<interstitial>>\n\n\n@@.interstitial\n* ''22:32'' Seem to have fixed the file and folder organisation and handlers for that in the library\n* ''22:32'' Let's duplicate this Caddyfile to the default location for the brew install\n* ''22:33'' And create a default project menu interfacce for it\n@@","title":"Caddyfile","modified":"2025-01-26T22:33:00.833Z"},{"created":"2025-01-01T00:00:00.000Z","text":"Commandline (cli) tools are samll linux programs that we can call from the terminal or shell environment.","title":"Command-line","modified":"2025-01-01T00:00:00.000Z"},{"created":"2025-01-26T20:42:53.175Z","tags":["Caddy Install","todo"],"modified":"2025-01-26T20:43:01.468Z","title":"Find and Fix local Caddy file as served by Livecode"},{"created":"2025-01-26T22:26:37.255Z","text":"This handler is currently part of the Livecode [[lib_Caddy]] library file. The handler takes a list of top-level domains (defaulting to those it finds locally), and adds a special route for the platforms rest domain (at the moment that is http://rest.livcecode.wiki:9090) and generates the correctly formatted text for the Cadyfile.\n\n```\nfunction caddyFile_ConstructText pTopDomains, pToLocalHostPort\n   if pTopDomains is empty then\n      put wikiFolder_ListTopLevel() into pTopDomains\n   end if\n   --\n   put \"{\" into caddyFileText\n   put CR&Tab & \"auto_https off\" after caddyFileText\n   put CR & \"}\" after caddyFileText\n   put CR after caddyFileText\n   --\n   put platform_RestDomain() into restDomain\n   put CR & \"# Handle\" && restDomain after caddyFileText   \n   put _CaddyFileToProxy (PlatformRestPort) into toProxy\n   put platform_RestDomain() into restDomain\n   put CR & _CaddyFileProxyLine (restDomain, toProxy) after caddyFileText\n   --\n   put CR after caddyFileText\n   put CR & \"# Catch-all for wikis and their subdomains\" after caddyFileText\n   --\n   put _CaddyFileToProxy (pToLocalHostPort) into toProxy\n   repeat for each line wikiDomain in pTopDomains\n      put CR & _CaddyFileProxyLine (wikiDomain, toProxy) after caddyFileText\n      -- put CR after caddyFileText\n   end repeat\n   --\n   return caddyFileText\nend caddyFile_ConstructText\n```","title":"function caddyFile_ConstructText","modified":"2025-01-26T22:30:58.927Z","tags":["Handler","Livecode"]},{"created":"2025-01-26T20:38:32.463Z","color":"#ffd9ff","tags":["$:/plugins/nico/projectify/tags/Category"],"modified":"2025-01-26T20:38:34.984Z","title":"Livecode"},{"created":"2025-01-26T20:34:57.432Z","tags":["Caddy Install","todo"],"modified":"2025-01-26T20:38:58.904Z","title":"Local Caddy Binary"},{"created":"2025-01-01T00:00:00.000Z","text":"","title":"my-project-task","modified":"2025-01-01T00:00:00.000Z"},{"created":"2025-01-01T00:00:00.000Z","text":"<<todolist-ui caption:\" \"  base:\"Simple\" width:80%>>\nWith this plugin you can drag items around. It has many other features. However the Todlist is not provided in plain text within the toddler.","title":"Reorder Todo List Items","modified":"2025-01-01T00:00:00.000Z"},{"created":"2025-01-01T00:00:00.000Z","text":"We look to enhance the Caddy functionality by making it easy to install, and providing out of the box configuration for your project using the power of Livecode. As this has security implications we wish to provide a new form of open social security that we call [[Tiddly Security]] which is our starting point for [[Public Intelligence]].\n<<checklist mode:\"sort\">>\n\n@@.todo\n[ ]  Add [[Mac Mini Server]]\n[ ] Fix close caddy bug\n[ ] Manage [[Brew Install]] and [[Brew Startup Managment]]\n@@\n\nFor a more powerful way to do Todo lists (with drag reordering of items) see [[Reorder Todo List Items]].","title":"Todo","modified":"2025-01-01T00:00:00.000Z","type":"text/vnd.tiddlywiki"},{"created":"2025-01-25T20:54:54.134Z","text":"<<interstitial>>\n\n@@.interstitial\n* ''20:29'' It's so slow setting all this up. Never do it again.\n* ''20:30'' Next time only do the work - if there is someone to share with and help maintain. Unless its spirttful.\n* ''21:19'' Tired, but happy about adding todo's. Think I like Kara and it's Persian roots.\n* ''21:21'' I promise to add Caddy launching by the end of today.\n@@","title":"Working on","modified":"2025-01-26T22:31:26.727Z"}]